<!DOCTYPE html>
<html>

<head>
    <title></title>
</head>

<body>
    <button onclick="handleClick()">点我</button>
    <script type="text/javascript">
    class Observer {

        constructor() {
            this.listeners = [];
        }

        on(listener) {
            this.listeners.push(listener);
        }

        send(msg) {
            this.listeners.forEach(listener => {
                listener.call(null, msg);
            });
        }
    }

    const observer = new Observer();
    observer.on((msg) => {
        console.log('on=>', msg);
    });

    observer.send(i++);
    </script>
</body>

</html>